{"version":3,"file":"143.94f34772bda8bb77e485.js","mappings":"qkCA4HA,Q,upBAtHE,WAAYA,GAAO,a,4FAAA,aACjB,cAAMA,IADW,YAgBR,SAACC,GAGV,IAFA,IACIC,EADQ,EAAKF,MAAMG,QAAQC,SAASC,OAAOC,UAAU,GACxCC,MAAM,KACdC,EAAI,EAAGA,EAAIN,EAAKO,OAAQD,IAAK,CACpC,IAAIE,EAAOR,EAAKM,GAAGD,MAAM,KACzB,GAAIG,EAAK,IAAMT,EACb,OAAOS,EAAK,GAGhB,OAAO,KAzBU,kBA2BT,SAACC,GACTA,EAAMC,KAAI,SAACC,EAAMC,GACfC,MAAM,gCAAD,OAAiCF,IACnCG,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIC,QAAiC,MAAfD,EAAIC,OAC5B,OAAOD,EAAIE,OAEXC,EAAAA,GAAAA,MAAc,iBAGjBJ,MAAK,SAACC,GACL,GAAIA,EAAK,CACP,IAAII,EAAO,EAAKC,MAAMD,KACtBA,EAAKE,KAAKN,GACVI,EAAKG,MAAK,SAACC,EAAGC,GAIZ,OAHIA,EAAEC,eAAiBF,EAAEE,cACvB,EAAKC,SAAS,CAAEC,QAAQ,IAEnBH,EAAEC,aAAeF,EAAEE,gBAE5B,EAAKC,SAAS,CACZP,KAAAA,IAEY,IAAVP,GACF,EAAKc,SAAS,CAAEE,WAAW,IAAS,WAClCC,QAAQC,IAAI,EAAKV,MAAMD,aAvBjC,OA2BS,SAACY,GACNF,QAAQC,IAAIC,YAvDlB,EAAKX,MAAQ,CACXQ,WAAW,EACXT,KAAM,GACNQ,QAAQ,GALO,E,8CAQnB,WACE,IAAQ1B,EAAY+B,KAAKlC,MAAjBG,QACJ+B,KAAKC,SAAS,WAAaD,KAAKC,SAAS,UAC3CD,KAAKE,QAAQ,CAACF,KAAKC,SAAS,UAAWD,KAAKC,SAAS,YAErDhC,EAAQoB,KAAR,a,oBAgDJ,WACE,MAAoCW,KAAKZ,MAAjCD,EAAR,EAAQA,KAAMS,EAAd,EAAcA,UAAWD,EAAzB,EAAyBA,OACzB,OACE,2BACGA,EAAS,sBAAIQ,MAAO,CAAEC,UAAW,WAAxB,QAAgD,GAC1D,uBAAKD,MAAO,CAAEE,QAAS,OAAQC,SAAU,OAAQC,eAAgB,iBAC9DpB,EAAKT,KAAI,SAACC,EAAMC,GACf,OACE,uBACEuB,MAAO,CACLK,gBAAiB,qBACjBC,QAAS,OACTC,aAAc,MACdC,UAAW,OACXC,SAAU,QACVC,OAAQ,aAEVC,IAAKlC,GAEJe,EAAS,GAAK,sBAAIQ,MAAO,CAAEC,UAAW,WAAuB,IAAVxB,EAAc,SAAW,SAC7E,uBAAKuB,MAAO,CAAEC,UAAW,WACvB,uBAAKW,IAAKpC,EAAKqC,WAAYC,IAAI,GAAGd,MAAO,CAAEe,MAAO,QAASC,OAAQ,YAErE,sBAAIhB,MAAO,CAAEC,UAAW,WAAxB,UAA4CzB,EAAKc,cACjD,sBAAIU,MAAO,CAAEiB,MAAO,YAAczC,EAAK0C,MACvC,2BACE,qBAAGC,UAAU,uBAAuBnB,MAAO,CAAEoB,YAAa,OAAQC,SAAU,UAC3E7C,EAAKT,UAER,2BACE,qBAAGoD,UAAU,cAAcnB,MAAO,CAAEoB,YAAa,OAAQC,SAAU,UAClE7C,EAAK8C,WAER,2BACE,qBAAGH,UAAU,kBAAkBnB,MAAO,CAAEoB,YAAa,OAAQC,SAAU,UACtE7C,EAAK+C,WAER,2BACE,qBAAGJ,UAAU,aAAanB,MAAO,CAAEoB,YAAa,OAAQC,SAAU,UACjE7C,EAAKc,mBAOhB,uBAAKU,MAAO,CAAEQ,UAAW,OAAQP,UAAW,WAC1C,8BACE,gBAAC,KAAD,CAAMuB,GAAG,WAAT,WAGJ,gBAAC,IAAD,CAAS/B,UAAWA,U,oBAjHNgC,EAAAA","sources":["webpack://08/./src/pages/Details/index.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { message } from \"antd\";\r\nimport Loading from \"@/components/Loading\";\r\n\r\nclass Details extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: true,\r\n      data: [],\r\n      isDraw: false,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { history } = this.props;\r\n    if (this.getValue(\"value1\") && this.getValue(\"value2\")) {\r\n      this.getData([this.getValue(\"value1\"), this.getValue(\"value2\")]);\r\n    } else {\r\n      history.push(`/Battle`);\r\n    }\r\n  }\r\n  getValue = (variable) => {\r\n    let query = this.props.history.location.search.substring(1);\r\n    let vars = query.split(\"&\");\r\n    for (let i = 0; i < vars.length; i++) {\r\n      let pair = vars[i].split(\"=\");\r\n      if (pair[0] == variable) {\r\n        return pair[1];\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n  getData = (value) => {\r\n    value.map((item, index) => {\r\n      fetch(`https://api.github.com/users/${item}`)\r\n        .then((res) => {\r\n          if (res.status === 200 || res.status === 304) {\r\n            return res.json();\r\n          } else {\r\n            message.error(\"请求频繁，请稍后再试\");\r\n          }\r\n        })\r\n        .then((res) => {\r\n          if (res) {\r\n            let data = this.state.data;\r\n            data.push(res);\r\n            data.sort((a, b) => {\r\n              if (b.public_repos === a.public_repos) {\r\n                this.setState({ isDraw: true });\r\n              }\r\n              return b.public_repos - a.public_repos;\r\n            });\r\n            this.setState({\r\n              data,\r\n            });\r\n            if (index === 1)\r\n              this.setState({ isLoading: false }, () => {\r\n                console.log(this.state.data);\r\n              });\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        });\r\n    });\r\n  };\r\n  render() {\r\n    const { data, isLoading, isDraw } = this.state;\r\n    return (\r\n      <div>\r\n        {isDraw ? <h2 style={{ textAlign: \"center\" }}>Draw</h2> : \"\"}\r\n        <div style={{ display: \"flex\", flexWrap: \"wrap\", justifyContent: \"space-around\" }}>\r\n          {data.map((item, index) => {\r\n            return (\r\n              <div\r\n                style={{\r\n                  backgroundColor: \"rgb(221, 221, 221)\",\r\n                  padding: \"32px\",\r\n                  borderRadius: \"4px\",\r\n                  marginTop: \"50px\",\r\n                  maxWidth: \"264px\",\r\n                  margin: \"20px auto\",\r\n                }}\r\n                key={index}\r\n              >\r\n                {isDraw ? \"\" : <h2 style={{ textAlign: \"center\" }}>{index === 0 ? \"Winner\" : \"Loser\"}</h2>}\r\n                <div style={{ textAlign: \"center\" }}>\r\n                  <img src={item.avatar_url} alt=\"\" style={{ width: \"200px\", height: \"200px\" }} />\r\n                </div>\r\n                <h3 style={{ textAlign: \"center\" }}>Scores:{item.public_repos}</h3>\r\n                <h2 style={{ color: \"#1890ff\" }}>{item.name}</h2>\r\n                <div>\r\n                  <i className=\"fa fa-location-arrow\" style={{ marginRight: \"10px\", fontSize: \"15px\" }}></i>\r\n                  {item.location}\r\n                </div>\r\n                <div>\r\n                  <i className=\"fa fa-group\" style={{ marginRight: \"10px\", fontSize: \"15px\" }}></i>\r\n                  {item.followers}\r\n                </div>\r\n                <div>\r\n                  <i className=\"fa fa-user-plus\" style={{ marginRight: \"10px\", fontSize: \"15px\" }}></i>\r\n                  {item.following}\r\n                </div>\r\n                <div>\r\n                  <i className=\"fa fa-code\" style={{ marginRight: \"10px\", fontSize: \"15px\" }}></i>\r\n                  {item.public_repos}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <div style={{ marginTop: \"30px\", textAlign: \"center\" }}>\r\n          <button>\r\n            <Link to=\"/Battle\">RESET</Link>\r\n          </button>\r\n        </div>\r\n        <Loading isLoading={isLoading} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Details;\r\n"],"names":["props","variable","vars","history","location","search","substring","split","i","length","pair","value","map","item","index","fetch","then","res","status","json","message","data","state","push","sort","a","b","public_repos","setState","isDraw","isLoading","console","log","e","this","getValue","getData","style","textAlign","display","flexWrap","justifyContent","backgroundColor","padding","borderRadius","marginTop","maxWidth","margin","key","src","avatar_url","alt","width","height","color","name","className","marginRight","fontSize","followers","following","to","Component"],"sourceRoot":""}